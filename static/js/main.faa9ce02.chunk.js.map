{"version":3,"sources":["components/FilterComp.js","components/HouseCardComp.js","components/HousesComp.js","App.js","index.js"],"names":["FilterComp","props","useState","value","setValue","filtered","showFound","length","updateFiltered","houses","regexp","RegExp","lastIndex","filter","house","exec","title","className","onSubmit","e","preventDefault","htmlFor","id","type","onChange","target","HouseCardComp","price","href","style","backgroundColor","width","alt","src","split","map","word","toUpperCase","join","address","toLocaleString","currency","HousesComp","setFiltered","filteredState","setFilteredState","App","setHouses","useEffect","a","fetch","response","ok","json","dataJson","data","splice","console","log","fetchData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.faa9ce02.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\n\r\nfunction FilterComp(props) {\r\n    // здесь сохраняем то, что пользователь вводит в поисковую строку\r\n    const [value, setValue] = useState('');\r\n    // создаем пустой массив, в котором будем хранить отфильтрованные дома\r\n    let filtered = [];\r\n\r\n    /**\r\n     * с помощью регулярного выражения фильтруем дома, сравнивая ввод пользователя с названием \r\n     * (title) дома в основном массиве houses \r\n     */\r\n    const showFound = () => {\r\n        // здесь проверяем, ввел ли что-нибудь пользователь в поисковую строку\r\n        if (value.length === 0) {\r\n            props.updateFiltered(props.houses);\r\n        }  else if (value.length > 2) { // если пользователь ввел 3 и более символов, начинаем фильтрацию\r\n            const regexp = new RegExp(value, 'iy');\r\n            regexp.lastIndex = 0;\r\n            filtered = props.houses.filter(house => regexp.exec(`${house.title}`));\r\n            \r\n            props.updateFiltered(filtered); // передаем массив с отфильтрованными домами\r\n        }\r\n    }\r\n\r\n    /**\r\n     * обновляем ввод пользователя и вызываем функцию showFound\r\n     * @param {*} e событие\r\n     */\r\n    const handleChange = e => {\r\n        e.preventDefault();\r\n        \r\n        setValue(e.target.value);\r\n        showFound();\r\n    }\r\n\r\n    /**\r\n     * отменяем дефолтное поведение у формы и вызываем showFound\r\n     * @param {*} e событие\r\n     */\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        showFound();\r\n    }\r\n\r\n    return (\r\n        <div className=\"houses__filter filter\">\r\n            <form className=\"filter__form\" onSubmit={handleSubmit}>\r\n                <label htmlFor=\"input\" className=\"filter__form_label\">Filter</label>\r\n                <input id=\"input\" className=\"filter__form_input\" type=\"text\" value={value} onChange={handleChange} />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilterComp;\r\n","import React from 'react';\r\n\r\nfunction HouseCardComp(props) {\r\n    let house = props.house;\r\n\r\n    /**\r\n     * \r\n     * @param {*} title // название дома\r\n     * @returns название дома, где каждое слово написано с большой буквы\r\n     */\r\n    const formatTitle = title => {\r\n        title = title.split(' ');\r\n        let newTitle = title.map(word => {\r\n            word = word.split('');\r\n            word[0] = word[0].toUpperCase();\r\n            return word.join('');\r\n        }).join(' ');\r\n\r\n        return newTitle;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {*} price // цена\r\n     * @returns // цена, соответствующая формату валюты\r\n     */\r\n    const formatPrice = price => {\r\n        return price.toLocaleString('en-EN', { currency: 'GBP' });\r\n    }\r\n\r\n    return (\r\n        <div className=\"houses__house house\" >\r\n            <a href={`/details/${house.id}`} className=\"house__link\">\r\n                <div className=\"house__img-container\">\r\n                    {house.type === 'IndependentLiving' ? (\r\n                        <div className=\"house__img-container_house-type\" style={{backgroundColor: '#006F79', width: 134}}>Independent living</div>\r\n                    ) : (\r\n                        <div className=\"house__img-container_house-type\" style={{backgroundColor: '#EC6608', width: 204}}>Restaurant &amp; Support available</div>\r\n                    )}\r\n                    <img alt=\"house\" src=\"https://via.placeholder.com/376x228/DCDCDC/000000?text=house\" className=\"house__img-container_img\" />\r\n\r\n                </div>\r\n\r\n                <div className=\"house__info\">\r\n                    <h2 className=\"house__info_title\">{formatTitle(house.title)}</h2>\r\n                    <p className=\"house__info_address\">{house.address}</p>\r\n                    <p className=\"house__info_price\">New Properties for Sale from <span className=\"house__info_price_bold\">&#163;{formatPrice(house.price)}</span></p>\r\n                    <p className=\"housee__info_text\">Shared Ownership Available</p>\r\n                </div>\r\n            </a>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HouseCardComp;\r\n","import React, {useState} from 'react';\r\nimport FilterComp from './FilterComp';\r\nimport HouseCardComp from './HouseCardComp';\r\n\r\n\r\nfunction HousesComp(props) {\r\n    // здесь будут храниться отфильтрованные дома\r\n    let [filtered, setFiltered] = useState([]); \r\n    // следим за состоянием поисковой строки\r\n    const [filteredState, setFilteredState] = useState(false);\r\n\r\n    let houses = props.houses;\r\n\r\n    /**\r\n     *\r\n     *  обновляем состояние\r\n    *  в зависимости от его значения показываем либо полный список домов, либо отфильтрованный\r\n     * @param {*} value массив отфильтрованных домов\r\n     */\r\n    const updateFiltered = (value) => {\r\n        setFiltered(value);\r\n\r\n        if (filtered.length === -1) {\r\n            setFilteredState(false);\r\n        } else {\r\n            setFilteredState(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <FilterComp houses={houses} updateFiltered={updateFiltered} />\r\n\r\n            <section className=\"main__houses houses\">\r\n                        \r\n                {\r\n                filteredState === false ? (\r\n                houses.map(house => {\r\n                return (\r\n                    <HouseCardComp key={`key${house.id}`} house={house} />\r\n                )\r\n                })) : (\r\n                filtered.map(house => {\r\n                    return (\r\n                        <HouseCardComp key={`key${house.id}`} house={house} />\r\n                    )\r\n                }))\r\n            }\r\n            \r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default HousesComp;\r\n","import React, {useState, useEffect} from \"react\";\nimport HousesComp from \"./components/HousesComp\";\n\nconst API = 'https://603e38c548171b0017b2ecf7.mockapi.io/homes';\n\nfunction App() {\n\n  const [houses, setHouses] = useState([]); // здесь храним массив с информацией о домах\n\n  // забираем данные с api\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(API);\n\n          if (response.ok) {\n            const dataJson = await response.json();\n            const data = [...dataJson]; \n            setHouses(data.splice(0, 6));\n          }\n      } catch(err) {\n        console.log(err);\n      }\n    }\n\n    fetchData();\n  }, []) \n\n  return (\n    <>\n      <header className=\"header\">\n        <div className=\"header__container container\">\n          <a className=\"header__heading_link\" href=\"/\">\n            <h1 className=\"header__heading\">\n              Our Latest Developments\n            </h1>\n          </a>\n        </div>\n      </header>\n\n      <main className=\"main\">\n        <div className=\"main__container container\">\n        <HousesComp houses={houses} />\n\n          <button className=\"main__button btn\">\n            <span className=\"btn_text\">See more </span><i className=\"btn__arrow fas fa-chevron-right\"></i>\n          </button>\n        </div>\n      </main>\n\n      <footer className=\"footer\"></footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/styles.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}